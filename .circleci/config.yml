version: 2.1

parameters:
  eventType:
    default: "test"
    type: string
    
  branchName:
    default: "test"
    type: string   

  sourceBranchName:
    default: "test"
    type: string


#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
jobs:
  developer-deploy:
    docker:
      - image: cimg/node:19.2.0
    steps:
      - run:
          name: "DEV PUSH"
          command: npm --version

      - run:
          name: "Deploy data to Dev Env"
          command: . build/deploy_to_developer_sf_org.sh



workflows:
  version: 2
  dev-push-workflow:
    when:
      and:
        - equal: [ "push", << pipeline.parameters.eventType >> ]
        - equal: [ "dev", << pipeline.parameters.branchName >> ]
    jobs:
      - developer-deploy